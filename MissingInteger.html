<script>

// https://app.codility.com/programmers/lessons/4-counting_elements/missing_integer/

// solution without filtering out the duplicated or negative integers

function solution(A) {

  let a = A.sort((a,b) => a-b); // sort the array

  const min = a[0]; // find min element of the array
  const max = a[a.length-1]; // find max element of the array

  if (max < 1) return 1; // if max is less than 1 return 1
  if (min > 1) return 1; // if min is greater than 1 return 1

  let prev = 0; // we'll compare each element of the array with the previousto see if it is equal or greater by one

  for (let i of a) {
    if (i > 0) { // testing only positive integers
      if (i !== prev) { // if the element is not the same as previous
        if (i !== prev+1) return prev+1; // if the element is not greater then previous by one, we found our missing element
        prev = i; // otherwise we increase the previous to test the next element with
      } 
    }
  }

  return max+1; // return max value + 1

}

console.log( solution([-1,3,6,10,4,1,2]) );

</script>